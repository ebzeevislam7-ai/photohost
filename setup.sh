#!/bin/bash

# ========== –°–ö–†–ò–ü–¢ –£–°–¢–ê–ù–û–í–ö–ò –ò –ó–ê–ü–£–°–ö–ê ==========
# –î–ª—è Linux/Mac

echo "üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PhotoHost..."

# 1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo "üì¶ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
dotnet restore

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
echo "üìä –°–æ–∑–¥–∞—ë–º –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î..."
dotnet ef migrations add InitialCreate
dotnet ef database update

# 3. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
echo "üî® –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç..."
dotnet build

# 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
echo "‚úÖ –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ..."
dotnet run

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ https://localhost:5001
echo "üåê –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: https://localhost:5001"
